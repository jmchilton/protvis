<tal:var define="global hash python: unique_dataset()" />
<tal:var define="global columns python: [{'name':'spectrum', 'title': 'Spectrum'}]"></tal:var>
<form id="filter_mgf_${hash}_basic" onsubmit="FilterCurrent(document.getElementById('filter_mgf_${hash}').value); return false;">
	Filter: <input type="text" id="filter_mgf_${hash}" value="${info.query}" />&nbsp;<input type="submit" value="Filter" />
</form>
<br/>
<tal:if condition="python: len(results) == 0">None of the ${info.total} queries matched your filter</tal:if>
<tal:else condition="python: len(results) > 0">
	<tal:if condition="python: info['total'] == 1">Displaying the only result</tal:if>
	<tal:if condition="python: info['total'] > 1 and info['total'] == len(results)">Displaying all ${info.matches} results</tal:if>
	<tal:if condition="python: info['total'] > len(results)">Displaying ${info.start}-${info.end} of ${info.matches} results</tal:if>
	<br/>
	<table id="results_${info.datafile}" border="1" style="width: 100%;">
	<tr><tal:for repeat="col columns"><th id="results_${info.datafile}_column_${col.name}" onclick="TableManager.Sort('results_${info.datafile}','${col.name}');" tal:attributes="class python: 'sort' + test(sortcol==col.name, test(sortdsc, ' sort_dsc', ' sort_asc'), '')">${col.title}</th></tal:for></tr>
	<tal:for repeat="row results">
		<tr tal:attributes="class string:info ${row.style}${repeat.row.odd}">
			<td><span class="link" onclick="ShowSpectrum(${info.datafile}, '${info.type}', ${row.HitInfo.offset}, '${row.HitInfo.spectrum}');">${row.HitInfo.spectrum}</span></td>
		</tr>
	</tal:for>
	</table>
	<script>
		TableManager.Add("results_${info.datafile}", "${sortcol}", <tal:echo content="python: test(sortdsc, 'false', 'true')" />, "${info.datafile}", "${url}");
	</script>
</tal:else>
