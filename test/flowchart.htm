<html>
	<head>
		<title>Display test for flowcharts</title>
		<script src="/res/dojo/dojo/dojo.js" type="text/javascript" data-dojo-config="parseOnLoad: true"></script>
		<script src="/res/scripts/flowchart.js"></script>
		<script>
			function InArray(arr, e) {
				for (var i in arr) {
					if (arr[i] == e) {
						return true;
					}
				}
				return false;
			}

			function GetTypeName(type, full) {
				if (full) {
					switch (type) {
						case 1:
							return "MZML";
						case 2:
							return "MGF";
						case 3:
							return "PepXML";
						case 4:
							return "Mascot";
						case 5:
							return "Omssa";
						case 6:
							return "X! Tandem";
						case 7:
							return "PepXML Comparison";
						case 8:
							return "PeptideProphet";
						case 9:
							return "InterProphet";
						case 10:
							return "ProtXML";
						case 11:
							return "ProteinProphet";
						default:
							return "";
					}
				} else {
					if (type <= 0) {
						return "";
					} else if (type == 1) {
						return "mzml";
					} else if (type == 2) {
						return "mgf";
					} else if (type <= 9) {
						return "pep";
					} else {
						return "prot";
					}
				}
			}
			
			dojo.ready(function() {
				new FlowChart(dojo.byId("graph_1"), [
					{name:'dataset_46.dat',type:1,deps:[]},    //0
					{name:'dataset_50.dat',type:6,deps:[0]},   //1
					{name:'dataset_47.dat',type:2,deps:[]},    //2
					{name:'dataset_49.dat',type:4,deps:[2]},   //3
					{name:'dataset_52.dat',type:8,deps:[2,3]}, //4
					{name:'dataset_51.dat',type:8,deps:[0,1]}, //5
					{name:'dataset_54.dat',type:8,deps:[2,4]}, //6
					{name:'dataset_55.dat',type:9,deps:[0,1,2,3,4,5,6]}, //7
					{name:'dataset_56.dat',type:11,deps:[7]}   //8
				]);
				new FlowChart(dojo.byId("graph_2"), [
					{name:'dataset_46.dat',type:1,deps:[]},
					{name:'dataset_50.dat',type:6,deps:[0]},
					{name:'dataset_47.dat',type:2,deps:[]},
					{name:'dataset_49.dat',type:4,deps:[2]},
					{name:'dataset_52.dat',type:8,deps:[2,3]},
					{name:'dataset_51.dat',type:8,deps:[0,1,4]},
					{name:'dataset_54.dat',type:8,deps:[2,4]},
					{name:'dataset_55.dat',type:9,deps:[0,1,2,3,4,5,6]},
					{name:'dataset_56.dat',type:11,deps:[7]}
				]);
				new FlowChart(dojo.byId("graph_2"), [
					{name:'dataset_46.dat',type:1,deps:[9]},   //0
					{name:'dataset_50.dat',type:6,deps:[0]},   //1
					{name:'dataset_47.dat',type:2,deps:[9]},   //2
					{name:'dataset_49.dat',type:4,deps:[2]},   //3
					{name:'dataset_52.dat',type:8,deps:[2,3]}, //4
					{name:'dataset_51.dat',type:8,deps:[0,1]}, //5
					{name:'dataset_54.dat',type:8,deps:[2,4]}, //6
					{name:'dataset_55.dat',type:9,deps:[0,1,2,3,4,5,6]}, //7
					{name:'dataset_56.dat',type:11,deps:[7]},  //8
					{name:'dataset_aa.dat',type:1,deps:[]}     //9
				]);
				/*BROKEN: old data which does not inculde correct connections for the missing files
				console.log("----------------------");
				new FlowChart(dojo.byId("graph_2"), [
					{name:'dataset_1231.dat',type:6,deps:[-1]},   //0
					{name:'dataset_1233.dat',type:1,deps:[]},     //1
					{name:'dataset_1235.dat',type:4,deps:[-1]},   //2
					{name:'dataset_1242.dat',type:6,deps:[-1]},   //3
					{name:'dataset_1244.dat',type:1,deps:[]},     //4
					{name:'dataset_1246.dat',type:4,deps:[-1]},   //5
					{name:'dataset_1253.dat',type:6,deps:[-1]},   //6
					{name:'dataset_1255.dat',type:1,deps:[]},     //7
					{name:'dataset_1257.dat',type:4,deps:[-1]},   //8
					{name:'dataset_1234.dat',type:8,deps:[0,-1]}, //9
					{name:'dataset_1236.dat',type:8,deps:[1]},    //10
					{name:'dataset_1237.dat',type:8,deps:[2,-1]}, //11
					{name:'dataset_1245.dat',type:8,deps:[3,-1]}, //12
					{name:'dataset_1247.dat',type:8,deps:[4]},    //13
					{name:'dataset_1248.dat',type:8,deps:[5,-1]}, //14
					{name:'dataset_1256.dat',type:8,deps:[6,-1]}, //15
					{name:'dataset_1258.dat',type:8,deps:[7]},    //16
					{name:'dataset_1259.dat',type:8,deps:[8,-1]}, //17
					{name:'dataset_1309.dat',type:9,deps:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,-1]}, //18
					{name:'dataset_1310.dat',type:11,deps:[18]}   //19
				]);*/
			});
		</script>
	</head>
	<body>
		<div id="graph_1"></div>
		<div id="graph_2"></div>
		<div id="graph_3"></div>
		<div id="graph_4"></div>
		<div id="graph_5"></div>
		<div id="graph_6"></div>
		<div id="graph_7"></div>
	</body>
</html>
